"use strict";var fname,email,message;function validateName(){var e=capitalize($.trim($("#fname input").val()));fname=""===e?($("#fname input").addClass("form-error"),$("#fname input").val(""),$("#fname input").attr("placeholder","Please Enter Your First Name"),""):($("#fname").removeClass("form-error"),e),enableSendButton()}function validateEmail(e){var a=$.trim(e.val());""===a&&(e.val(""),e.addClass("form-error"),e.attr("placeholder","Please Enter Your Email"));var r=emailRegex(a);email=r?(e.removeClass("form-error"),a):(e.addClass("form-error"),""),enableSendButton()}function validateText(e){var a=$.trim(e.val());""===a?(e.val(""),e.addClass("form-error"),e.attr("placeholder","Message required.")):($("#message input").removeClass("form-error"),message=a),enableSendButton()}function enableSendButton(){fname&&email&&message?$(".submit").removeClass("disabled").addClass("active").removeAttr("disabled"):$(".submit").addClass("disabled").removeClass("active").attr("disabled",!0)}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function emailRegex(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}$("#message-link").on("click touchstart",function(e){e.preventDefault(),$("#contact").children(".slide-out").children(".info").addClass("form-open")}),$(".close").on("click touchstart",function(){$(".form-open").removeClass("form-open")}),$("#fname input").on("blur",function(){validateName()}),$("#email input").on("blur",function(){validateEmail($(this))}),$("#message textarea").on("blur",function(){validateText($(this))}),$("#contact-form input").on("focus",function(){$(this).hasClass("form-error")&&$(this).removeClass("form-error")}),$("#contact-form textarea").on("focus",function(){$(this).hasClass("form-error")&&$(this).removeClass("form-error")}),$("#message textarea").focus(function(){enableSendButton()}),$("form").submit(function(e){$("input[type=submit").attr("disabled",!0);var a={fname:$("input[name=fname]").val(),email:$("input[name=email]").val(),message:$("textarea[name=message]").val()};$.ajax({type:"POST",url:"php/form-process.php",data:a,dataType:"json",encode:!0}).done(function(e){console.log(e),e.success?($("input").not("input[type=submit]").val(""),$("textarea").val(""),$(".thank-you").show(),$(".form-open").removeClass("form-open"),window.setTimeout(function(){$(".thank-you").hide()},2500)):($(".form-errors").show(),e.errors.fname&&($("input[name=fname]").addClass("error"),$(".form-errors").append("<div>"+e.errors.fname+"</div")),e.errors.email&&($("input[name=email]").addClass("error"),$(".form-errors").append("<div>"+e.errors.email+"</div")),e.errors.message&&($("textarea[name=message]").addClass("error"),$(".form-errors").append("<div>"+e.errors.message+"</div")))}),e.preventDefault()});